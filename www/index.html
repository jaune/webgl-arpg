<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>rpg</title>
		<link rel="stylesheet" href="styles/all.css" type="text/css" media="all">

		<script type="text/javascript">
			var __BROWSER__ = true;
		</script>
		<script type="text/javascript">
			window.requestAnimationFrame__ = (function(){
				return  window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(callback){
					window.setTimeout(function () { callback(+(new Date())); } , 1000 / 60);
				};
			})();
		</script>

		<script type="text/javascript" src="/socket.io/socket.io.js"></script>

		<script type="text/javascript" src="scripts/common/gl-matrix.js"></script>
		
		<script type="text/javascript" src="scripts/common/Character.js"></script>
		<script type="text/javascript" src="scripts/common/Player.js"></script>


		
		<script type="text/javascript" src="scripts/common/Area.js"></script>

		<script type="text/javascript" src="scripts/common/Entities.js"></script>
		<script type="text/javascript" src="scripts/common/Characters.js"></script>
		<script type="text/javascript" src="scripts/common/Players.js"></script>

		<script type="text/javascript" src="scripts/common/World.js"></script>

		<script type="text/javascript" src="scripts/client/Network.js"></script>
		<script type="text/javascript" src="scripts/client/Inputs.js"></script>
		<script type="text/javascript" src="scripts/client/Canvas.js"></script>


		<script type="text/javascript" src="scripts/client/VertexAttributeBuffer.js"></script>
		<script type="text/javascript" src="scripts/client/Program.js"></script>
		<script type="text/javascript" src="scripts/client/WebGL.js"></script>
		<script type="text/javascript" src="scripts/client/Texture.js"></script>

		<script type="text/javascript" src="scripts/client/Renderer.js"></script>
		<script type="text/javascript" src="scripts/client/Renderers.js"></script>
		<script type="text/javascript" src="scripts/client/AreaRenderer.js"></script>
		<script type="text/javascript" src="scripts/client/CharactersRenderer.js"></script>




		<script id="area-fs" type="x-shader/x-fragment">
			#ifdef GL_ES
				precision highp float;
			#endif

			uniform sampler2D uTilesetSampler;
			uniform sampler2D uAreaSampler;

			uniform float uTileSize;
			uniform float uTilesetSize;
			uniform float uAreaSize;

			varying vec2 vTextureCoord;

			void main(void) {
				vec2 index = texture2D(uAreaSampler, vTextureCoord.st).xy * 256.0 * uTileSize;
				gl_FragColor = texture2D(
					uTilesetSampler, 
					(mod((vTextureCoord.st * uAreaSize), uTileSize) + index) / uTilesetSize
				);
			}
		</script>
		<script id="area-vs" type="x-shader/x-vertex">
			#ifdef GL_ES
				precision highp float;
			#endif

			attribute vec2 aVertexPosition;
			attribute vec2 aTextureCoord;
			
			uniform mat4 uViewportMatrix;

			varying vec2 vTextureCoord;

			void main(void) {
				vTextureCoord = aTextureCoord;
				gl_Position = uViewportMatrix * vec4(aVertexPosition, 0.0, 1.0);
			}
		</script>

<!-- ***************************************** -->

		
		
		<script id="characters-fs" type="x-shader/x-fragment">
			#ifdef GL_ES
				precision highp float;
			#endif
			uniform sampler2D uCharacterSampler;

			varying vec2 vCoordinates;

			void main(void) {
				gl_FragColor = texture2D(
					uCharacterSampler, 
					vCoordinates.st
				);
				// gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);
			}
		</script>

		<script id="characters-vs" type="x-shader/x-vertex">
			#ifdef GL_ES
				precision highp float;
			#endif

			attribute vec2 aPosition;
			attribute vec2 aCoordinates;

			uniform mat4 uViewportMatrix;

			varying vec2 vCoordinates;

			void main(void) {
				vCoordinates = aCoordinates;
				gl_Position = uViewportMatrix * vec4(aPosition, 0.0, 1.0);
			}
		</script>

		<!-- ***************************************** -->

		

<!-- ***************************************** 



		<script type="text/javascript" src="scripts/Fog.js"></script>
		<script id="fog-fs" type="x-shader/x-fragment">
			#ifdef GL_ES
				precision highp float;
			#endif
			uniform sampler2D uSampler;

			varying vec2 vCoordinates;

			void main(void) {
				gl_FragColor = texture2D(
					uSampler, 
					vCoordinates.st
				);
				// gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);
			}
		</script>

		<script id="fog-vs" type="x-shader/x-vertex">
			#ifdef GL_ES
				precision highp float;
			#endif

			attribute vec2 aPosition;
			attribute vec2 aCoordinates;

			uniform mat4 uViewportMatrix;

			varying vec2 vCoordinates;

			void main(void) {
				vCoordinates = aCoordinates;
				gl_Position = uViewportMatrix * vec4(aPosition, 0.0, 1.0);
			}
		</script>
-->
<!--		<script src="/socket.io/socket.io.js"></script> -->
	</head>
	<body>

		
		<script type="text/javascript" src="scripts/client/main.js"></script>
	</body>
</html>
